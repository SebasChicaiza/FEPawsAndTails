
@{
    ViewBag.Title = "Mi Carrito";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="carrito-titulo">🛒 Mi Carrito</h2>

<div class="carrito-contenedor" id="carrito-container">
    <!-- JS insertará los productos aquí -->
</div>

<div class="carrito-resumen" id="carrito-summary" style="display:none">
    <div class="resumen-linea">
        <span>Subtotal:</span>
        <span id="subtotal">$0.00</span>
    </div>
    <div class="resumen-linea">
        <span>IVA (15%):</span>
        <span id="iva">$0.00</span>
    </div>
    <div class="resumen-linea total">
        <span>Total:</span>
        <span id="total">$0.00</span>
    </div>
    <input type="text" id="direccion" placeholder="Dirección de envío" required />
    <select id="metodoPago">
        <option value="Tarjeta">Tarjeta</option>
        <option value="Efectivo">Efectivo</option>
    </select>
    <button class="btn-finalizar" onclick="validarSesionAntesDePagar()">Finalizar Compra</button>
</div>

@if (TempData["Mensaje"] != null)
{
    <div class="alert alert-success">@TempData["Mensaje"]</div>
}
<script src="~/Scripts/FuncionesPAT.js" asp-append-version="true"></script>